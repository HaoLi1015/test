import{g as dt,S as Xe,D as oe,s as Be,a as ft,u as Y,L as le,b as Ke,c as ke,d as Ie,i as he,e as pt,r as mt}from"./index-DHo9l3z7.js";import{aw as _t,V as vt,r as z,w as Je,c as P,v as B,af as J,x as _,y as V,B as $,M as v,K as w,U as Ge,J as E,L as ge,u as n,ay as ht,G as F,az as Se,aA as xe,ab as Z,H as K,P as N,O as _e,I as X,a3 as se,k as de,e as ye,aB as gt,aC as Ye,a0 as Qe,j as Ze,R as et,g as yt,Q as tt,s as bt,ac as me,aD as ce,z as be,ae as wt,aE as kt,n as St,S as Ce,T as Ee}from"./vue-C2mfnOEg.js";import{u as xt}from"./useWatermark-cNpSQoYi.js";/* empty css                  *//* empty css                        *//* empty css                     */import{_ as Ct}from"./index.vue_vue_type_script_setup_true_lang-DaaZb59C.js";/* empty css                   *//* empty css                    */import"./el-tooltip-l0sNRNKZ.js";/* empty css                *//* empty css               *//* empty css                  *//* empty css                   *//* empty css                 */import{d as Et,e as $t,f as Tt,h as Mt,i as Vt,j as fe,k as nt,l as Lt,n as It,o as At,E as we,p as pe,q as Rt,r as Dt,s as ot,t as Pt,u as $e,v as Ft,w as st,x as at,y as rt,z as Bt,A as zt,B as Wt,C as Ut,D as Nt,F as Ot,G as qt,H as Ht,I as jt,J as Xt,K as Kt,L as Jt,M as Gt,N as Yt,O as Qt,g as Zt,P as en,Q as tn,R as nn,S as on,T as sn,U as an}from"./element-BD9IHJJo.js";import{_ as W}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./vxe-gSuEEdzx.js";function rn(u){u?Be(ft):Be(Xe)}const ie=_t("app",()=>{const u=vt({opened:dt()!==Xe,withoutAnimation:!1}),s=z(oe.Desktop);return Je(()=>u.opened,e=>{rn(e)}),{device:s,sidebar:u,toggleSidebar:e=>{u.opened=!u.opened,u.withoutAnimation=e},closeSidebar:e=>{u.opened=!1,u.withoutAnimation=e},toggleDevice:e=>{s.value=e}}}),lt=ie(),ln=P(()=>lt.device===oe.Mobile),cn=P(()=>lt.device===oe.Desktop);function ue(){return{isMobile:ln,isDesktop:cn}}const Te=Y(),un=P(()=>Te.layoutMode===le.Left),dn=P(()=>Te.layoutMode===le.Top),fn=P(()=>Te.layoutMode===le.LeftTop);function pn(u){Te.layoutMode=u}function ae(){return{isLeft:un,isTop:dn,isLeftTop:fn,setLayoutMode:pn}}function ve(u,s=document.documentElement){return u!=null&&u.startsWith("--")?getComputedStyle(s).getPropertyValue(u):(console.error("CSS 变量名应以 '--' 开头"),"")}function ze(u,s,m=document.documentElement){if(!(u!=null&&u.startsWith("--"))){console.error("CSS 变量名应以 '--' 开头");return}m.style.setProperty(u,s)}const mn={class:"app-main"},_n={class:"app-scrollbar"},vn=B({__name:"index",setup(u){const s=Ke(),m=Y();return(f,c)=>{const e=J("router-view"),t=Et;return _(),V("section",mn,[$("div",_n,[v(e,null,{default:w(({Component:o,route:a})=>[v(Ge,{name:"el-fade-in",mode:"out-in"},{default:w(()=>[(_(),E(ht,{include:n(s).cachedViews},[(_(),E(ge(o),{key:a.path,class:"app-container-grow"}))],1032,["include"]))]),_:2},1024)]),_:1}),n(m).showFooter?(_(),E(n(Cn),{key:0})):F("",!0)]),v(t),v(t,{target:".app-scrollbar"})])}}}),Ae=W(vn,[["__scopeId","data-v-ec4e5ab4"]]);var G={},We;function hn(){if(We)return G;We=1,Object.defineProperty(G,"__esModule",{value:!0}),G.TokenData=void 0,G.parse=h,G.compile=k,G.match=g,G.pathToRegexp=L,G.stringify=q;const u="/",s=p=>p,m=/^[$_\p{ID_Start}]$/u,f=/^[$\u200c\u200d\p{ID_Continue}]$/u,c="https://git.new/pathToRegexpError",e={"{":"{","}":"}","(":"(",")":")","[":"[","]":"]","+":"+","?":"?","!":"!"};function t(p){return p.replace(/[{}()\[\]+?!:*]/g,"\\$&")}function o(p){return p.replace(/[.+*?^${}()[\]|/\\]/g,"\\$&")}function*a(p){const l=[...p];let i=0;function C(){let x="";if(m.test(l[++i]))for(x+=l[i];f.test(l[++i]);)x+=l[i];else if(l[i]==='"'){let y=i;for(;i<l.length;){if(l[++i]==='"'){i++,y=0;break}l[i]==="\\"?x+=l[++i]:x+=l[i]}if(y)throw new TypeError(`Unterminated quote at ${y}: ${c}`)}if(!x)throw new TypeError(`Missing parameter name at ${i}: ${c}`);return x}for(;i<l.length;){const x=l[i],y=e[x];if(y)yield{type:y,index:i++,value:x};else if(x==="\\")yield{type:"ESCAPED",index:i++,value:l[i++]};else if(x===":"){const M=C();yield{type:"PARAM",index:i,value:M}}else if(x==="*"){const M=C();yield{type:"WILDCARD",index:i,value:M}}else yield{type:"CHAR",index:i,value:l[i++]}}return{type:"END",index:i,value:""}}class d{constructor(l){this.tokens=l}peek(){if(!this._peek){const l=this.tokens.next();this._peek=l.value}return this._peek}tryConsume(l){const i=this.peek();if(i.type===l)return this._peek=void 0,i.value}consume(l){const i=this.tryConsume(l);if(i!==void 0)return i;const{type:C,index:x}=this.peek();throw new TypeError(`Unexpected ${C} at ${x}, expected ${l}: ${c}`)}text(){let l="",i;for(;i=this.tryConsume("CHAR")||this.tryConsume("ESCAPED");)l+=i;return l}}class r{constructor(l){this.tokens=l}}G.TokenData=r;function h(p,l={}){const{encodePath:i=s}=l,C=new d(a(p));function x(M){const R=[];for(;;){const H=C.text();H&&R.push({type:"text",value:i(H)});const j=C.tryConsume("PARAM");if(j){R.push({type:"param",name:j});continue}const re=C.tryConsume("WILDCARD");if(re){R.push({type:"wildcard",name:re});continue}if(C.tryConsume("{")){R.push({type:"group",tokens:x("}")});continue}return C.consume(M),R}}const y=x("END");return new r(y)}function k(p,l={}){const{encode:i=encodeURIComponent,delimiter:C=u}=l,x=p instanceof r?p:h(p,l),y=b(x.tokens,C,i);return function(R={}){const[H,...j]=y(R);if(j.length)throw new TypeError(`Missing parameters: ${j.join(", ")}`);return H}}function b(p,l,i){const C=p.map(x=>S(x,l,i));return x=>{const y=[""];for(const M of C){const[R,...H]=M(x);y[0]+=R,y.push(...H)}return y}}function S(p,l,i){if(p.type==="text")return()=>[p.value];if(p.type==="group"){const x=b(p.tokens,l,i);return y=>{const[M,...R]=x(y);return R.length?[""]:[M]}}const C=i||s;return p.type==="wildcard"&&i!==!1?x=>{const y=x[p.name];if(y==null)return["",p.name];if(!Array.isArray(y)||y.length===0)throw new TypeError(`Expected "${p.name}" to be a non-empty array`);return[y.map((M,R)=>{if(typeof M!="string")throw new TypeError(`Expected "${p.name}/${R}" to be a string`);return C(M)}).join(l)]}:x=>{const y=x[p.name];if(y==null)return["",p.name];if(typeof y!="string")throw new TypeError(`Expected "${p.name}" to be a string`);return[C(y)]}}function g(p,l={}){const{decode:i=decodeURIComponent,delimiter:C=u}=l,{regexp:x,keys:y}=L(p,l),M=y.map(R=>i===!1?s:R.type==="param"?i:H=>H.split(C).map(i));return function(H){const j=x.exec(H);if(!j)return!1;const re=j[0],ee=Object.create(null);for(let te=1;te<j.length;te++){if(j[te]===void 0)continue;const ne=y[te-1],Me=M[te-1];ee[ne.name]=Me(j[te])}return{path:re,params:ee}}}function L(p,l={}){const{delimiter:i=u,end:C=!0,sensitive:x=!1,trailing:y=!0}=l,M=[],R=[],H=x?"":"i",re=(Array.isArray(p)?p:[p]).map(ne=>ne instanceof r?ne:h(ne,l));for(const{tokens:ne}of re)for(const Me of I(ne,0,[])){const ut=D(Me,i,M);R.push(ut)}let ee=`^(?:${R.join("|")})`;return y&&(ee+=`(?:${o(i)}$)?`),ee+=C?"$":`(?=${o(i)}|$)`,{regexp:new RegExp(ee,H),keys:M}}function*I(p,l,i){if(l===p.length)return yield i;const C=p[l];if(C.type==="group"){const x=i.slice();for(const y of I(C.tokens,0,x))yield*I(p,l+1,y)}else i.push(C);yield*I(p,l+1,i)}function D(p,l,i){let C="",x="",y=!0;for(let M=0;M<p.length;M++){const R=p[M];if(R.type==="text"){C+=o(R.value),x+=R.value,y||(y=R.value.includes(l));continue}if(R.type==="param"||R.type==="wildcard"){if(!y&&!x)throw new TypeError(`Missing text after "${R.name}": ${c}`);R.type==="param"?C+=`(${O(l,y?"":x)}+)`:C+="([\\s\\S]+)",i.push(R),x="",y=!1;continue}}return C}function O(p,l){return l.length<2?p.length<2?`[^${o(p+l)}]`:`(?:(?!${o(p)})[^${o(l)}])`:p.length<2?`(?:(?!${o(l)})[^${o(p)}])`:`(?:(?!${o(l)}|${o(p)})[\\s\\S])`}function q(p){return p.tokens.map(function l(i,C,x){if(i.type==="text")return t(i.value);if(i.type==="group")return`{${i.tokens.map(l).join("")}}`;const M=A(i.name)&&T(x[C+1])?i.name:JSON.stringify(i.name);if(i.type==="param")return`:${M}`;if(i.type==="wildcard")return`*${M}`;throw new TypeError(`Unexpected token: ${i}`)}).join("")}function A(p){const[l,...i]=p;return m.test(l)?i.every(C=>f.test(C)):!1}function T(p){return(p==null?void 0:p.type)!=="text"?!0:!f.test(p.value[0])}return G}var gn=hn();const yn={key:0,class:"no-redirect"},bn=["onClick"],wn=B({__name:"index",setup(u){const s=Se(),m=xe(),{listenerRouteChange:f}=ke(),c=z([]);function e(){c.value=s.matched.filter(a=>{var d,r;return((d=a.meta)==null?void 0:d.title)&&((r=a.meta)==null?void 0:r.breadcrumb)!==!1})}function t(a){return gn.compile(a)(s.params)}function o(a){const{redirect:d,path:r}=a;if(d)return m.push(d);m.push(t(r))}return f(a=>{a.path.startsWith("/redirect/")||e()},!0),(a,d)=>{const r=Tt,h=$t;return _(),E(h,null,{default:w(()=>[(_(!0),V(K,null,Z(n(c),(k,b)=>(_(),E(r,{key:k.path},{default:w(()=>[k.redirect==="noRedirect"||b===n(c).length-1?(_(),V("span",yn,N(k.meta.title),1)):(_(),V("a",{key:1,onClick:_e(S=>o(k),["prevent"])},N(k.meta.title),9,bn))]),_:2},1024))),128))]),_:1})}}}),kn=W(wn,[["__scopeId","data-v-d372a87d"]]),Sn={class:"layout-footer"},xn=B({__name:"index",setup(u){const s="V3 Admin Vite";return(m,f)=>(_(),V("footer",Sn," MIT © 2021-PRESENT "+N(n(s)),1))}}),Cn=W(xn,[["__scopeId","data-v-7931eda9"]]),En=B({__name:"index",props:{isActive:{type:Boolean,default:!1}},emits:["toggleClick"],setup(u,{emit:s}){const m=u,f=s;function c(){f("toggleClick")}return(e,t)=>{const o=fe;return _(),V("div",{onClick:c},[v(o,{size:20,class:"icon"},{default:w(()=>[m.isActive?(_(),E(n(Mt),{key:0})):(_(),E(n(Vt),{key:1}))]),_:1})])}}}),$n=W(En,[["__scopeId","data-v-d060331a"]]),Tn="/v3-admin-vite/assets/logo-text-1-CHuEm79x.png",Mn="/v3-admin-vite/assets/logo-text-2-CVewf8RJ.png",Vn="/v3-admin-vite/assets/logo-BY3URNHQ.png",Ln=["src"],In=["src"],An=B({__name:"index",props:{collapse:{type:Boolean,default:!0}},setup(u){const s=u,{isLeft:m,isTop:f}=ae();return(c,e)=>{const t=J("router-link");return _(),V("div",{class:X(["layout-logo-container",{collapse:s.collapse,"layout-mode-top":n(f)}])},[v(Ge,{name:"layout-logo-fade"},{default:w(()=>[s.collapse?(_(),E(t,{key:"collapse",to:"/"},{default:w(()=>[$("img",{src:n(Vn),class:"layout-logo"},null,8,Ln)]),_:1})):(_(),E(t,{key:"expand",to:"/"},{default:w(()=>[$("img",{src:n(m)?n(Tn):n(Mn),class:"layout-logo-text"},null,8,In)]),_:1}))]),_:1})],2)}}}),Re=W(An,[["__scopeId","data-v-e0af8833"]]),Rn=[{avatar:"https://gw.alipayobjects.com/zos/rmsportal/OKJXDXrmkNshAMvwtvhu.png",title:"V3 Admin Vite 上线啦",datetime:"两年前",description:"一个免费开源的中后台管理系统基础解决方案，基于 Vue3、TypeScript、Element Plus、Pinia 和 Vite 等主流技术"},{avatar:"https://gw.alipayobjects.com/zos/rmsportal/OKJXDXrmkNshAMvwtvhu.png",title:"V3 Admin 上线啦",datetime:"三年前",description:"一个中后台管理系统基础解决方案，基于 Vue3、TypeScript、Element Plus 和 Pinia"}],Dn=[{avatar:"https://gw.alipayobjects.com/zos/rmsportal/ThXAXghbEsBCCSDihZxY.png",title:"来自楚门的世界",description:"如果再也不能见到你，祝你早安、午安和晚安",datetime:"1998-06-05"},{avatar:"https://gw.alipayobjects.com/zos/rmsportal/ThXAXghbEsBCCSDihZxY.png",title:"来自大话西游",description:"如果非要在这份爱上加上一个期限，我希望是一万年",datetime:"1995-02-04"},{avatar:"https://gw.alipayobjects.com/zos/rmsportal/ThXAXghbEsBCCSDihZxY.png",title:"来自龙猫",description:"心存善意，定能途遇天使",datetime:"1988-04-16"}],Pn=[{title:"任务名称",description:"这家伙很懒，什么都没留下",extra:"未开始",status:"info"},{title:"任务名称",description:"这家伙很懒，什么都没留下",extra:"进行中",status:"primary"},{title:"任务名称",description:"这家伙很懒，什么都没留下",extra:"已超时",status:"danger"}],Fn={class:"card-header"},Bn={class:"card-title"},zn={class:"card-time"},Wn={key:0,class:"card-avatar"},Un=["src"],Nn={class:"card-body"},On=B({__name:"List",props:{data:{}},setup(u){const s=u;return(m,f)=>{const c=nt,e=Lt,t=It;return s.data.length===0?(_(),E(c,{key:0})):(_(!0),V(K,{key:1},Z(s.data,(o,a)=>(_(),E(t,{key:a,shadow:"never",class:"card-container"},{header:w(()=>[$("div",Fn,[$("div",null,[$("span",null,[$("span",Bn,N(o.title),1),o.extra?(_(),E(e,{key:0,type:o.status,effect:"plain",size:"small"},{default:w(()=>[se(N(o.extra),1)]),_:2},1032,["type"])):F("",!0)]),$("div",zn,N(o.datetime),1)]),o.avatar?(_(),V("div",Wn,[$("img",{src:o.avatar,width:"34"},null,8,Un)])):F("",!0)])]),default:w(()=>[$("div",Nn,N(o.description??"No Data"),1)]),_:2},1024))),128))}}}),qn=W(On,[["__scopeId","data-v-fa5fa2ec"]]),Hn={class:"notify"},jn={class:"notify-history"},Ue=99,Xn=350,Kn=B({__name:"index",setup(u){const s=P(()=>f.value.reduce((e,t)=>e+t.list.length,0)),m=z("通知"),f=z([{name:"通知",type:"primary",list:Rn},{name:"消息",type:"danger",list:Dn},{name:"待办",type:"warning",list:Pn}]);function c(){we.success(`跳转到${m.value}历史页面`)}return(e,t)=>{const o=fe,a=pe,d=Rt,r=$e,h=Ft,k=Dt,b=ot,S=Pt;return _(),V("div",Hn,[v(S,{placement:"bottom",width:Xn,trigger:"click"},{reference:w(()=>[v(d,{value:n(s),max:Ue,hidden:n(s)===0},{default:w(()=>[v(a,{effect:"dark",content:"消息通知",placement:"bottom"},{default:w(()=>[v(o,{size:20},{default:w(()=>[v(n(At))]),_:1})]),_:1})]),_:1},8,["value","hidden"])]),default:w(()=>[v(k,{modelValue:n(m),"onUpdate:modelValue":t[0]||(t[0]=g=>de(m)?m.value=g:null),class:"demo-tabs",stretch:""},{default:w(()=>[(_(!0),V(K,null,Z(n(f),(g,L)=>(_(),E(h,{key:L,name:g.name},{label:w(()=>[se(N(g.name)+" ",1),v(d,{value:g.list.length,max:Ue,type:g.type},null,8,["value","type"])]),default:w(()=>[v(r,{height:"400px"},{default:w(()=>[v(qn,{data:g.list},null,8,["data"])]),_:2},1024)]),_:2},1032,["name"]))),128))]),_:1},8,["modelValue"]),$("div",jn,[v(b,{link:"",onClick:c},{default:w(()=>[se(" 查看"+N(n(m))+"历史 ",1)]),_:1})])]),_:1})])}}}),Jn=W(Kn,[["__scopeId","data-v-378e0077"]]),Ne=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],Q=(()=>{if(typeof document>"u")return!1;const u=Ne[0],s={};for(const m of Ne)if((m==null?void 0:m[1])in document){for(const[c,e]of m.entries())s[u[c]]=e;return s}return!1})(),Oe={change:Q.fullscreenchange,error:Q.fullscreenerror};let U={request(u=document.documentElement,s){return new Promise((m,f)=>{const c=()=>{U.off("change",c),m()};U.on("change",c);const e=u[Q.requestFullscreen](s);e instanceof Promise&&e.then(c).catch(f)})},exit(){return new Promise((u,s)=>{if(!U.isFullscreen){u();return}const m=()=>{U.off("change",m),u()};U.on("change",m);const f=document[Q.exitFullscreen]();f instanceof Promise&&f.then(m).catch(s)})},toggle(u,s){return U.isFullscreen?U.exit():U.request(u,s)},onchange(u){U.on("change",u)},onerror(u){U.on("error",u)},on(u,s){const m=Oe[u];m&&document.addEventListener(m,s,!1)},off(u,s){const m=Oe[u];m&&document.removeEventListener(m,s,!1)},raw:Q};Object.defineProperties(U,{isFullscreen:{get:()=>!!document[Q.fullscreenElement]},element:{enumerable:!0,get:()=>document[Q.fullscreenElement]??void 0},isEnabled:{enumerable:!0,get:()=>!!document[Q.fullscreenEnabled]}});Q||(U={isEnabled:!1});const qe="content-large",He="content-full",Gn=B({__name:"index",props:{element:{default:"html"},openTips:{default:"全屏"},exitTips:{default:"退出全屏"},content:{type:Boolean,default:!1}},setup(u){const s=u,m=document.body.classList,f=U.isEnabled,c=z(!1),e=P(()=>c.value?s.exitTips:s.openTips),t=P(()=>c.value?"fullscreen-exit":"fullscreen");function o(){const S=document.querySelector(s.element)||void 0;f?U.toggle(S):we.warning("您的浏览器无法工作")}function a(){c.value=U.isFullscreen,c.value||m.remove(qe,He)}ye(S=>{f&&(U.on("change",a),S(()=>{U.off("change",a)}))});const d=z(!1),r=P(()=>d.value?"内容区复原":"内容区放大"),h=P(()=>d.value?"fullscreen-exit":"fullscreen");function k(){d.value=!d.value,m.toggle(qe,d.value)}function b(){d.value&&k(),m.add(He),o()}return(S,g)=>{const L=J("SvgIcon"),I=pe,D=st,O=at,q=rt;return _(),V("div",null,[s.content?(_(),E(q,{key:1,disabled:n(c)},{dropdown:w(()=>[v(O,null,{default:w(()=>[v(D,{onClick:k},{default:w(()=>[se(N(n(r)),1)]),_:1}),v(D,{onClick:b},{default:w(()=>g[0]||(g[0]=[se(" 内容区全屏 ")])),_:1})]),_:1})]),default:w(()=>[v(L,{name:n(h),class:"svg-icon"},null,8,["name"])]),_:1},8,["disabled"])):(_(),E(I,{key:0,effect:"dark",content:n(e),placement:"bottom"},{default:w(()=>[v(L,{name:n(t),onClick:o,class:"svg-icon"},null,8,["name"])]),_:1},8,["content"]))])}}}),ct=W(Gn,[["__scopeId","data-v-34caa7ca"]]),Yn={class:"search-footer"},Qn={class:"search-footer-item"},Zn={class:"search-footer-item"},eo={class:"search-footer-item"},to={class:"search-footer-total"},no=B({__name:"Footer",props:{total:{}},setup(u){const s=u,{isMobile:m}=ue();return(f,c)=>{const e=J("SvgIcon");return _(),V("div",Yn,[n(m)?F("",!0):(_(),V(K,{key:0},[$("span",Qn,[v(e,{name:"keyboard-enter",class:"svg-icon"}),c[0]||(c[0]=$("span",null,"确认",-1))]),$("span",Zn,[v(e,{name:"keyboard-up",class:"svg-icon"}),v(e,{name:"keyboard-down",class:"svg-icon"}),c[1]||(c[1]=$("span",null,"切换",-1))]),$("span",eo,[v(e,{name:"keyboard-esc",class:"svg-icon"}),c[2]||(c[2]=$("span",null,"关闭",-1))])],64)),$("span",to,"共 "+N(s.total)+" 项",1)])}}}),oo=W(no,[["__scopeId","data-v-7449c716"]]),so=["onMouseenter"],ao={class:"result-item-title"},ro=B({__name:"Result",props:gt({data:{},isPressUpOrDown:{type:Boolean}},{modelValue:{required:!0},modelModifiers:{}}),emits:["update:modelValue"],setup(u,{expose:s}){const m=u,f=Ye(u,"modelValue"),c=yt(),e=z(0);function t(r){const h=r.name===f.value;return{background:h?"var(--el-color-primary)":"",color:h?"#ffffff":""}}function o(r){m.isPressUpOrDown||(f.value=r.name)}function a(){e.value=Number((window.innerHeight*.4).toFixed(1))}function d(r){var S;const h=(S=c==null?void 0:c.proxy)==null?void 0:S.$refs[`resultItemRef${r}`];if(!h)return 0;const b=h[0].offsetTop+128;return b>e.value?b-e.value:0}return Qe(()=>{window.addEventListener("resize",a)}),Ze(()=>{a()}),et(()=>{window.removeEventListener("resize",a)}),s({getScrollTop:d}),(r,h)=>{const k=J("SvgIcon");return _(),V("div",null,[(_(!0),V(K,null,Z(m.data,(b,S)=>{var g,L,I;return _(),V("div",{key:S,ref_for:!0,ref:`resultItemRef${S}`,class:"result-item",style:tt(t(b)),onMouseenter:D=>o(b)},[(g=b.meta)!=null&&g.svgIcon?(_(),E(k,{key:0,name:b.meta.svgIcon,class:"svg-icon"},null,8,["name"])):(L=b.meta)!=null&&L.elIcon?(_(),E(ge(b.meta.elIcon),{key:1,class:"el-icon"})):F("",!0),$("span",ao,N((I=b.meta)==null?void 0:I.title),1),f.value&&f.value===b.name?(_(),E(k,{key:2,name:"keyboard-enter",class:"svg-icon"})):F("",!0)],44,so)}),128))])}}}),lo=W(ro,[["__scopeId","data-v-d63bb3bd"]]),co=B({__name:"Modal",props:{modelValue:{type:Boolean,required:!0},modelModifiers:{}},emits:["update:modelValue"],setup(u){const s=Ye(u,"modelValue"),m=xe(),{isMobile:f}=ue(),c=z(null),e=z(null),t=z(null),o=z(""),a=bt([]),d=z(void 0),r=z(!1),h=P(()=>f.value?"80vw":"40vw"),k=P(()=>Bt(Ie().routes)),b=zt(()=>{var l;const A=S(k.value),T=o.value.toLocaleLowerCase().trim();a.value=A.filter(i=>{var C,x;return o.value?(x=(C=i.meta)==null?void 0:C.title)==null?void 0:x.toLocaleLowerCase().includes(T):!1});const p=(l=a.value)==null?void 0:l.length;d.value=p>0?a.value[0].name:void 0},500);function S(A,T=[]){return A.forEach(p=>{T.push(p),p.children&&S(p.children,T)}),T}function g(){s.value=!1,setTimeout(()=>{o.value="",a.value=[]},200)}function L(A){var p;if(!t.value)return;const T=t.value.getScrollTop(A);(p=e.value)==null||p.setScrollTop(T)}function I(){r.value=!0;const{length:A}=a.value;if(A===0)return;const T=a.value.findIndex(p=>p.name===d.value);if(T===0){const p=a.value[A-1].name;d.value===p&&A>1?(d.value=a.value[A-2].name,L(A-2)):(d.value=p,L(A-1))}else d.value=a.value[T-1].name,L(T-1)}function D(){r.value=!0;const{length:A}=a.value;if(A===0)return;const T=a.value.map(p=>p.name).lastIndexOf(d.value);if(T===A-1){const p=a.value[0].name;d.value===p&&A>1?(d.value=a.value[1].name,L(1)):(d.value=p,L(0))}else d.value=a.value[T+1].name,L(T+1)}function O(){var l;const{length:A}=a.value;if(A===0)return;const T=d.value,p=(l=a.value.find(i=>i.name===T))==null?void 0:l.path;if(p&&he(p))return window.open(p,"_blank","noopener, noreferrer");if(!T)return we.warning("无法通过搜索进入该菜单，请为对应的路由设置唯一的 Name");try{m.push({name:T})}catch{return we.warning("该菜单有必填的动态参数，无法通过搜索进入")}g()}function q(){r.value=!1}return(A,T)=>{const p=J("SvgIcon"),l=Wt,i=nt,C=$e,x=Ut;return _(),E(x,{modelValue:s.value,"onUpdate:modelValue":T[2]||(T[2]=y=>s.value=y),"before-close":g,width:n(h),top:"5vh",class:"search-modal__private","append-to-body":"",onOpened:T[3]||(T[3]=y=>{var M;return(M=n(c))==null?void 0:M.focus()}),onClosed:T[4]||(T[4]=y=>{var M;return(M=n(c))==null?void 0:M.blur()}),onKeydown:[me(I,["up"]),me(D,["down"]),me(O,["enter"])],onKeyup:me(q,["up","down"])},{footer:w(()=>[v(oo,{total:n(a).length},null,8,["total"])]),default:w(()=>[v(l,{ref_key:"inputRef",ref:c,modelValue:n(o),"onUpdate:modelValue":T[0]||(T[0]=y=>de(o)?o.value=y:null),placeholder:"搜索菜单",size:"large",clearable:"",onInput:n(b)},{prefix:w(()=>[v(p,{name:"search",class:"svg-icon"})]),_:1},8,["modelValue","onInput"]),n(a).length===0?(_(),E(i,{key:0,description:"暂无搜索结果","image-size":100})):(_(),V(K,{key:1},[T[5]||(T[5]=$("p",null,"搜索结果",-1)),v(C,{ref_key:"scrollbarRef",ref:e,"max-height":"40vh",always:""},{default:w(()=>[v(lo,{ref_key:"resultRef",ref:t,modelValue:n(d),"onUpdate:modelValue":T[1]||(T[1]=y=>de(d)?d.value=y:null),data:n(a),"is-press-up-or-down":n(r),onClick:O},null,8,["modelValue","data","is-press-up-or-down"])]),_:1},512)],64))]),_:1},8,["modelValue","width"])}}}),io=B({__name:"index",setup(u){const s=z(!1);function m(){s.value=!0}return(f,c)=>{const e=J("SvgIcon"),t=pe;return _(),V("div",null,[v(t,{effect:"dark",content:"搜索菜单",placement:"bottom"},{default:w(()=>[v(e,{name:"search",onClick:m,class:"svg-icon"})]),_:1}),v(co,{modelValue:n(s),"onUpdate:modelValue":c[0]||(c[0]=o=>de(s)?s.value=o:null)},null,8,["modelValue"])])}}}),uo=W(io,[["__scopeId","data-v-0188671d"]]),fo={class:"navigation-bar"},po={class:"right-menu"},mo={class:"right-menu-item user"},_o=B({__name:"index",setup(u){const{isMobile:s}=ue(),{isTop:m}=ae(),f=xe(),c=ie(),e=pt(),t=Y(),{showNotify:o,showThemeSwitch:a,showScreenfull:d,showSearchMenu:r}=ce(t);function h(){c.toggleSidebar(!1)}function k(){e.logout(),f.push("/login")}return(b,S)=>{const g=Ot,L=st,I=at,D=rt;return _(),V("div",fo,[!n(m)||n(s)?(_(),E(n($n),{key:0,"is-active":n(c).sidebar.opened,class:"hamburger",onToggleClick:h},null,8,["is-active"])):F("",!0),!n(m)||n(s)?(_(),E(n(kn),{key:1,class:"breadcrumb"})):F("",!0),n(m)&&!n(s)?(_(),E(n(Pe),{key:2,class:"sidebar"})):F("",!0),$("div",po,[n(r)?(_(),E(uo,{key:0,class:"right-menu-item"})):F("",!0),n(d)?(_(),E(ct,{key:1,class:"right-menu-item"})):F("",!0),n(a)?(_(),E(Ct,{key:2,class:"right-menu-item"})):F("",!0),n(o)?(_(),E(Jn,{key:3,class:"right-menu-item"})):F("",!0),v(D,null,{dropdown:w(()=>[v(I,null,{default:w(()=>[v(L,{onClick:k},{default:w(()=>S[0]||(S[0]=[$("span",{class:"logout-css"},"退出登录",-1)])),_:1})]),_:1})]),default:w(()=>[$("div",mo,[v(g,{icon:n(Nt),size:30},null,8,["icon"]),$("span",null,N(n(e).username),1)])]),_:1})])])}}}),De=W(_o,[["__scopeId","data-v-12d73f6b"]]),vo=B({__name:"index",setup(u){const s=z(!1);return(m,f)=>{const c=fe,e=Ht;return _(),V(K,null,[$("div",{class:"handle-button",onClick:f[0]||(f[0]=t=>s.value=!0)},[v(c,{size:24},{default:w(()=>[v(n(qt))]),_:1})]),v(e,{modelValue:n(s),"onUpdate:modelValue":f[1]||(f[1]=t=>de(s)?s.value=t:null),size:"300px","with-header":!1},{default:w(()=>[be(m.$slots,"default",{},void 0,!0)]),_:3},8,["modelValue"])],64)}}}),ho=W(vo,[["__scopeId","data-v-011ce6eb"]]),go={class:"select-layout-mode"},yo=B({__name:"SelectLayoutMode",setup(u){const{isLeft:s,isTop:m,isLeftTop:f,setLayoutMode:c}=ae();return(e,t)=>{const o=jt,a=Xt,d=Kt,r=Jt,h=pe;return _(),V("div",go,[v(h,{content:"左侧模式"},{default:w(()=>[v(r,{class:X(["layout-mode left",{active:n(s)}]),onClick:t[0]||(t[0]=k=>n(c)(n(le).Left))},{default:w(()=>[v(o),v(r,null,{default:w(()=>[v(a),v(d)]),_:1})]),_:1},8,["class"])]),_:1}),v(h,{content:"顶部模式"},{default:w(()=>[v(r,{class:X(["layout-mode top",{active:n(m)}]),onClick:t[1]||(t[1]=k=>n(c)(n(le).Top))},{default:w(()=>[v(a),v(d)]),_:1},8,["class"])]),_:1}),v(h,{content:"混合模式"},{default:w(()=>[v(r,{class:X(["layout-mode left-top",{active:n(f)}]),onClick:t[2]||(t[2]=k=>n(c)(n(le).LeftTop))},{default:w(()=>[v(a),v(r,null,{default:w(()=>[v(o),v(d)]),_:1})]),_:1},8,["class"])]),_:1})])}}}),bo=W(yo,[["__scopeId","data-v-262027af"]]),wo={class:"setting-container"},ko={class:"setting-name"},So=B({__name:"index",setup(u){const{isLeft:s}=ae(),m=Y(),{showTagsView:f,showLogo:c,fixedHeader:e,showThemeSwitch:t,showScreenfull:o,showSearchMenu:a,cacheTagsView:d,showGreyMode:r,showColorWeakness:h}=ce(m),k={显示标签栏:f,"显示 Logo":c,"固定 Header":e,显示切换主题按钮:t,显示全屏按钮:o,显示搜索按钮:a,是否缓存标签栏:d,显示灰色模式:r,显示色弱模式:h};ye(()=>{!s.value&&(e.value=!0)});function b(){mt(),location.reload()}return(S,g)=>{const L=Yt,I=Qt,D=ot;return _(),V("div",wo,[g[1]||(g[1]=$("h4",null,"布局配置",-1)),v(bo),v(L),g[2]||(g[2]=$("h4",null,"功能配置",-1)),(_(),V(K,null,Z(k,(O,q,A)=>$("div",{key:A,class:"setting-item"},[$("span",ko,N(q),1),v(I,{modelValue:O.value,"onUpdate:modelValue":T=>O.value=T,disabled:!n(s)&&q==="固定 Header"},null,8,["modelValue","onUpdate:modelValue","disabled"])])),64)),v(D,{type:"danger",icon:n(Gt),onClick:b},{default:w(()=>g[0]||(g[0]=[se(" 重 置 ")])),_:1},8,["icon"])])}}}),xo=W(So,[["__scopeId","data-v-40109764"]]);var Ve,je;function Co(){if(je)return Ve;je=1;function u(c){if(typeof c!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(c))}function s(c,e){for(var t="",o=0,a=-1,d=0,r,h=0;h<=c.length;++h){if(h<c.length)r=c.charCodeAt(h);else{if(r===47)break;r=47}if(r===47){if(!(a===h-1||d===1))if(a!==h-1&&d===2){if(t.length<2||o!==2||t.charCodeAt(t.length-1)!==46||t.charCodeAt(t.length-2)!==46){if(t.length>2){var k=t.lastIndexOf("/");if(k!==t.length-1){k===-1?(t="",o=0):(t=t.slice(0,k),o=t.length-1-t.lastIndexOf("/")),a=h,d=0;continue}}else if(t.length===2||t.length===1){t="",o=0,a=h,d=0;continue}}e&&(t.length>0?t+="/..":t="..",o=2)}else t.length>0?t+="/"+c.slice(a+1,h):t=c.slice(a+1,h),o=h-a-1;a=h,d=0}else r===46&&d!==-1?++d:d=-1}return t}function m(c,e){var t=e.dir||e.root,o=e.base||(e.name||"")+(e.ext||"");return t?t===e.root?t+o:t+c+o:o}var f={resolve:function(){for(var e="",t=!1,o,a=arguments.length-1;a>=-1&&!t;a--){var d;a>=0?d=arguments[a]:(o===void 0&&(o=process.cwd()),d=o),u(d),d.length!==0&&(e=d+"/"+e,t=d.charCodeAt(0)===47)}return e=s(e,!t),t?e.length>0?"/"+e:"/":e.length>0?e:"."},normalize:function(e){if(u(e),e.length===0)return".";var t=e.charCodeAt(0)===47,o=e.charCodeAt(e.length-1)===47;return e=s(e,!t),e.length===0&&!t&&(e="."),e.length>0&&o&&(e+="/"),t?"/"+e:e},isAbsolute:function(e){return u(e),e.length>0&&e.charCodeAt(0)===47},join:function(){if(arguments.length===0)return".";for(var e,t=0;t<arguments.length;++t){var o=arguments[t];u(o),o.length>0&&(e===void 0?e=o:e+="/"+o)}return e===void 0?".":f.normalize(e)},relative:function(e,t){if(u(e),u(t),e===t||(e=f.resolve(e),t=f.resolve(t),e===t))return"";for(var o=1;o<e.length&&e.charCodeAt(o)===47;++o);for(var a=e.length,d=a-o,r=1;r<t.length&&t.charCodeAt(r)===47;++r);for(var h=t.length,k=h-r,b=d<k?d:k,S=-1,g=0;g<=b;++g){if(g===b){if(k>b){if(t.charCodeAt(r+g)===47)return t.slice(r+g+1);if(g===0)return t.slice(r+g)}else d>b&&(e.charCodeAt(o+g)===47?S=g:g===0&&(S=0));break}var L=e.charCodeAt(o+g),I=t.charCodeAt(r+g);if(L!==I)break;L===47&&(S=g)}var D="";for(g=o+S+1;g<=a;++g)(g===a||e.charCodeAt(g)===47)&&(D.length===0?D+="..":D+="/..");return D.length>0?D+t.slice(r+S):(r+=S,t.charCodeAt(r)===47&&++r,t.slice(r))},_makeLong:function(e){return e},dirname:function(e){if(u(e),e.length===0)return".";for(var t=e.charCodeAt(0),o=t===47,a=-1,d=!0,r=e.length-1;r>=1;--r)if(t=e.charCodeAt(r),t===47){if(!d){a=r;break}}else d=!1;return a===-1?o?"/":".":o&&a===1?"//":e.slice(0,a)},basename:function(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');u(e);var o=0,a=-1,d=!0,r;if(t!==void 0&&t.length>0&&t.length<=e.length){if(t.length===e.length&&t===e)return"";var h=t.length-1,k=-1;for(r=e.length-1;r>=0;--r){var b=e.charCodeAt(r);if(b===47){if(!d){o=r+1;break}}else k===-1&&(d=!1,k=r+1),h>=0&&(b===t.charCodeAt(h)?--h===-1&&(a=r):(h=-1,a=k))}return o===a?a=k:a===-1&&(a=e.length),e.slice(o,a)}else{for(r=e.length-1;r>=0;--r)if(e.charCodeAt(r)===47){if(!d){o=r+1;break}}else a===-1&&(d=!1,a=r+1);return a===-1?"":e.slice(o,a)}},extname:function(e){u(e);for(var t=-1,o=0,a=-1,d=!0,r=0,h=e.length-1;h>=0;--h){var k=e.charCodeAt(h);if(k===47){if(!d){o=h+1;break}continue}a===-1&&(d=!1,a=h+1),k===46?t===-1?t=h:r!==1&&(r=1):t!==-1&&(r=-1)}return t===-1||a===-1||r===0||r===1&&t===a-1&&t===o+1?"":e.slice(t,a)},format:function(e){if(e===null||typeof e!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof e);return m("/",e)},parse:function(e){u(e);var t={root:"",dir:"",base:"",ext:"",name:""};if(e.length===0)return t;var o=e.charCodeAt(0),a=o===47,d;a?(t.root="/",d=1):d=0;for(var r=-1,h=0,k=-1,b=!0,S=e.length-1,g=0;S>=d;--S){if(o=e.charCodeAt(S),o===47){if(!b){h=S+1;break}continue}k===-1&&(b=!1,k=S+1),o===46?r===-1?r=S:g!==1&&(g=1):r!==-1&&(g=-1)}return r===-1||k===-1||g===0||g===1&&r===k-1&&r===h+1?k!==-1&&(h===0&&a?t.base=t.name=e.slice(1,k):t.base=t.name=e.slice(h,k)):(h===0&&a?(t.name=e.slice(1,r),t.base=e.slice(1,k)):(t.name=e.slice(h,r),t.base=e.slice(h,k)),t.ext=e.slice(r,k)),h>0?t.dir=e.slice(0,h-1):a&&(t.dir="/"),t},sep:"/",delimiter:":",win32:null,posix:null};return f.posix=f,Ve=f,Ve}var Eo=Co();const it=Zt(Eo),$o=["href"],To=B({__name:"Link",props:{to:{}},setup(u){const s=u;return(m,f)=>{const c=J("router-link");return n(he)(s.to)?(_(),V("a",{key:0,href:s.to,target:"_blank",rel:"noopener"},[be(m.$slots,"default")],8,$o)):(_(),E(c,{key:1,to:s.to},{default:w(()=>[be(m.$slots,"default")]),_:3},8,["to"]))}}}),Mo={class:"title"},Vo={key:2,class:"title"},Lo=B({__name:"Item",props:{item:{},basePath:{default:""}},setup(u){const s=u,m=P(()=>{var o;return(o=s.item.meta)==null?void 0:o.alwaysShow}),f=P(()=>{var o;return((o=s.item.children)==null?void 0:o.filter(a=>{var d;return!((d=a.meta)!=null&&d.hidden)}))??[]}),c=P(()=>f.value.length),e=P(()=>{const o=c.value;switch(!0){case o>1:return null;case o===1:return f.value[0];default:return{...s.item,path:""}}});function t(o){switch(!0){case he(o):return o;case he(s.basePath):return s.basePath;default:return it.resolve(s.basePath,o)}}return(o,a)=>{const d=J("SvgIcon"),r=en,h=J("Item",!0),k=tn;return!n(m)&&n(e)&&!n(e).children?(_(),V(K,{key:0},[n(e).meta?(_(),E(To,{key:0,to:t(n(e).path)},{default:w(()=>[v(r,{index:t(n(e).path)},wt({default:w(()=>[n(e).meta.svgIcon?(_(),E(d,{key:0,name:n(e).meta.svgIcon,class:"svg-icon"},null,8,["name"])):n(e).meta.elIcon?(_(),E(ge(n(e).meta.elIcon),{key:1,class:"el-icon"})):F("",!0)]),_:2},[n(e).meta.title?{name:"title",fn:w(()=>[$("span",Mo,N(n(e).meta.title),1)]),key:"0"}:void 0]),1032,["index"])]),_:1},8,["to"])):F("",!0)],64)):(_(),E(k,{key:1,index:t(s.item.path),teleported:""},{title:w(()=>{var b,S,g;return[(b=s.item.meta)!=null&&b.svgIcon?(_(),E(d,{key:0,name:s.item.meta.svgIcon,class:"svg-icon"},null,8,["name"])):(S=s.item.meta)!=null&&S.elIcon?(_(),E(ge(s.item.meta.elIcon),{key:1,class:"el-icon"})):F("",!0),(g=s.item.meta)!=null&&g.title?(_(),V("span",Vo,N(s.item.meta.title),1)):F("",!0)]}),default:w(()=>[s.item.children?(_(!0),V(K,{key:0},Z(n(f),b=>(_(),E(h,{key:b.path,item:b,"base-path":t(b.path)},null,8,["item","base-path"]))),128)):F("",!0)]),_:1},8,["index"]))}}}),Io=W(Lo,[["__scopeId","data-v-a1d5fb3d"]]),Ao=B({__name:"index",setup(u){kt(A=>({87062932:n(q),c43e7476:n(D),"196fb22d":n(O),"30a0c440":n(I)}));const s=ve("--v3-sidebar-menu-bg-color"),m=ve("--v3-sidebar-menu-text-color"),f=ve("--v3-sidebar-menu-active-text-color"),{isMobile:c}=ue(),{isLeft:e,isTop:t}=ae(),o=Se(),a=ie(),d=Ie(),r=Y(),h=P(()=>o.meta.activeMenu||o.path),k=P(()=>d.routes.filter(A=>{var T;return!((T=A.meta)!=null&&T.hidden)})),b=P(()=>!a.sidebar.opened),S=P(()=>e.value&&r.showLogo),g=P(()=>e.value?s:void 0),L=P(()=>e.value?m:void 0),I=P(()=>e.value?f:void 0),D=P(()=>t.value?"var(--v3-navigationbar-height)":"var(--v3-sidebar-menu-item-height)"),O=P(()=>t.value?"transparent":"var(--v3-sidebar-menu-hover-bg-color)"),q=P(()=>t.value?"0px":"2px");return(A,T)=>{const p=nn,l=$e;return _(),V("div",{class:X({"has-logo":n(S)})},[n(S)?(_(),E(n(Re),{key:0,collapse:n(b)},null,8,["collapse"])):F("",!0),v(l,{"wrap-class":"scrollbar-wrapper"},{default:w(()=>[v(p,{"default-active":n(h),collapse:n(b)&&!n(t),"background-color":n(g),"text-color":n(L),"active-text-color":n(I),"collapse-transition":!1,mode:n(t)&&!n(c)?"horizontal":"vertical"},{default:w(()=>[(_(!0),V(K,null,Z(n(k),i=>(_(),E(Io,{key:i.path,item:i,"base-path":i.path},null,8,["item","base-path"]))),128))]),_:1},8,["default-active","collapse","background-color","text-color","active-text-color","mode"])]),_:1})],2)}}}),Pe=W(Ao,[["__scopeId","data-v-0ae7ffa8"]]),Ro={class:"scroll-container"},Do=200,Po=B({__name:"ScrollPane",props:{tagRefs:{}},setup(u){const s=u,m=Se(),f=Y(),{listenerRouteChange:c}=ke(),e=z(),t=z();let o=0;function a({scrollLeft:b}){o=b}function d({deltaY:b}){b.toString().startsWith("-")?h("left"):h("right")}function r(){const b=t.value.clientWidth,S=e.value.wrapRef.clientWidth,g=b-S-o;return{scrollbarContentRefWidth:b,scrollbarRefWidth:S,lastDistance:g}}function h(b,S=Do){let g=0;const{scrollbarContentRefWidth:L,scrollbarRefWidth:I,lastDistance:D}=r();I>L||(b==="left"?g=Math.max(0,o-S):g=Math.min(o+S,o+D),e.value.setScrollLeft(g))}function k(){const b=s.tagRefs;for(let S=0;S<b.length;S++)if(m.path===b[S].$props.to.path){const g=b[S].$el,L=g.offsetWidth,I=g.offsetLeft,{scrollbarRefWidth:D}=r();if(I<o){const q=o-I;h("left",q);return}const O=D+o-L;if(I>O){const q=I-O;h("right",q);return}}}return c(()=>{St(k)}),(b,S)=>{const g=fe,L=pe,I=$e;return _(),V("div",Ro,[v(L,{content:"向左滚动标签（超出最大宽度可点击）"},{default:w(()=>[v(g,{class:"arrow left",onClick:S[0]||(S[0]=D=>h("left"))},{default:w(()=>[v(n(on))]),_:1})]),_:1}),v(I,{ref_key:"scrollbarRef",ref:e,onWheelPassive:d,onScroll:a},{default:w(()=>[$("div",{ref_key:"scrollbarContentRef",ref:t,class:"scrollbar-content"},[be(b.$slots,"default",{},void 0,!0)],512)]),_:3},512),v(L,{content:"向右滚动标签（超出最大宽度可点击）"},{default:w(()=>[v(g,{class:"arrow right",onClick:S[1]||(S[1]=D=>h("right"))},{default:w(()=>[v(n(sn))]),_:1})]),_:1}),n(f).showScreenfull?(_(),E(ct,{key:0,content:!0,class:"screenfull"})):F("",!0)])}}}),Fo=W(Po,[["__scopeId","data-v-3e3a8e98"]]),Bo={class:"tags-view-container"},zo=B({__name:"index",setup(u){const s=xe(),m=Se(),f=Ke(),c=Ie(),{listenerRouteChange:e}=ke(),t=z([]),o=z(!1),a=z(0),d=z(0),r=z({});let h=[];function k(l){return l.path===m.path}function b(l){var i;return(i=l.meta)==null?void 0:i.affix}function S(l,i="/"){const C=[];return l.forEach(x=>{if(b(x)){const y=it.resolve(i,x.path);C.push({fullPath:y,path:y,name:x.name,meta:{...x.meta}})}if(x.children){const y=S(x.children,x.path);C.push(...y)}}),C}function g(){h=S(c.routes);for(const l of h)l.name&&f.addVisitedView(l)}function L(l){l.name&&(f.addVisitedView(l),f.addCachedView(l))}function I(l){f.delCachedView(l),s.replace({path:`/redirect${l.path}`,query:l.query})}function D(l){f.delVisitedView(l),f.delCachedView(l),k(l)&&A(f.visitedViews,l)}function O(){const l=r.value.fullPath;l!==m.path&&l!==void 0&&s.push(l),f.delOthersVisitedViews(r.value),f.delOthersCachedViews(r.value)}function q(l){f.delAllVisitedViews(),f.delAllCachedViews(),!h.some(i=>i.path===m.path)&&A(f.visitedViews,l)}function A(l,i){const C=l.slice(-1)[0],x=C==null?void 0:C.fullPath;x!==void 0?s.push(x):i.name==="Dashboard"?s.push({path:`/redirect${i.path}`,query:i.query}):s.push("/")}function T(l,i){const y=document.body.offsetWidth-100,M=i.clientX+10;d.value=M>y?y:M,a.value=i.clientY,o.value=!0,r.value=l}function p(){o.value=!1}return Je(o,l=>{l?document.body.addEventListener("click",p):document.body.removeEventListener("click",p)}),g(),e(l=>{L(l)},!0),(l,i)=>{const C=fe,x=J("router-link");return _(),V("div",Bo,[v(Fo,{class:"tags-view-wrapper","tag-refs":n(t)},{default:w(()=>[(_(!0),V(K,null,Z(n(f).visitedViews,y=>(_(),E(x,{key:y.path,ref_for:!0,ref_key:"tagRefs",ref:t,class:X([{active:k(y)},"tags-view-item"]),to:{path:y.path,query:y.query},onMouseup:_e(M=>!b(y)&&D(y),["middle"]),onContextmenu:_e(M=>T(y,M),["prevent"])},{default:w(()=>{var M;return[se(N((M=y.meta)==null?void 0:M.title)+" ",1),b(y)?F("",!0):(_(),E(C,{key:0,size:12,onClick:_e(R=>D(y),["prevent","stop"])},{default:w(()=>[v(n(an))]),_:2},1032,["onClick"]))]}),_:2},1032,["class","to","onMouseup","onContextmenu"]))),128))]),_:1},8,["tag-refs"]),Ce($("ul",{class:"contextmenu",style:tt({left:`${n(d)}px`,top:`${n(a)}px`})},[$("li",{onClick:i[0]||(i[0]=y=>I(n(r)))}," 刷新 "),b(n(r))?F("",!0):(_(),V("li",{key:0,onClick:i[1]||(i[1]=y=>D(n(r)))}," 关闭 ")),$("li",{onClick:O}," 关闭其它 "),$("li",{onClick:i[2]||(i[2]=y=>q(n(r)))}," 关闭所有 ")],4),[[Ee,n(o)]])])}}}),Fe=W(zo,[["__scopeId","data-v-a2698dd6"]]),Wo=992;function Uo(){const u=ie(),{listenerRouteChange:s}=ke(),m=()=>document.body.getBoundingClientRect().width-1<Wo,f=()=>{if(!document.hidden){const c=m();u.toggleDevice(c?oe.Mobile:oe.Desktop),c&&u.closeSidebar(!0)}};s(()=>{u.device===oe.Mobile&&u.sidebar.opened&&u.closeSidebar(!1)}),Qe(()=>{window.addEventListener("resize",f)}),Ze(()=>{m()&&(u.toggleDevice(oe.Mobile),u.closeSidebar(!0))}),et(()=>{window.removeEventListener("resize",f)})}const No=B({__name:"LeftMode",setup(u){const{isMobile:s}=ue(),{isLeft:m}=ae(),f=ie(),c=Y(),{showTagsView:e,fixedHeader:t}=ce(c),o=P(()=>({hideSidebar:!f.sidebar.opened,openSidebar:f.sidebar.opened,withoutAnimation:f.sidebar.withoutAnimation,mobile:s.value,noLeft:!m.value}));function a(){f.closeSidebar(!1)}return(d,r)=>(_(),V("div",{class:X([n(o),"app-wrapper"])},[n(o).mobile&&n(o).openSidebar?(_(),V("div",{key:0,class:"drawer-bg",onClick:a})):F("",!0),v(n(Pe),{class:"sidebar-container"}),$("div",{class:X([{hasTagsView:n(e)},"main-container"])},[$("div",{class:X([{"fixed-header":n(t)},"layout-header"])},[v(n(De)),Ce(v(n(Fe),null,null,512),[[Ee,n(e)]])],2),v(n(Ae),{class:"app-main"})],2)],2))}}),Oo=W(No,[["__scopeId","data-v-aab484a2"]]),qo={class:"fixed-header layout-header"},Ho={class:"content"},jo=B({__name:"LeftTopMode",setup(u){const s=ie(),m=Y(),{showTagsView:f,showLogo:c}=ce(m),e=P(()=>({hideSidebar:!s.sidebar.opened}));return(t,o)=>(_(),V("div",{class:X([n(e),"app-wrapper"])},[$("div",qo,[n(c)?(_(),E(n(Re),{key:0,collapse:!1,class:"logo"})):F("",!0),$("div",Ho,[v(n(De)),Ce(v(n(Fe),null,null,512),[[Ee,n(f)]])])]),$("div",{class:X([{hasTagsView:n(f)},"main-container"])},[v(n(Pe),{class:"sidebar-container"}),v(n(Ae),{class:"app-main"})],2)],2))}}),Xo=W(jo,[["__scopeId","data-v-bc46302f"]]),Ko={class:"app-wrapper"},Jo={class:"fixed-header layout-header"},Go={class:"content"},Yo=B({__name:"TopMode",setup(u){const s=Y(),{showTagsView:m,showLogo:f}=ce(s);return(c,e)=>(_(),V("div",Ko,[$("div",Jo,[$("div",Go,[n(f)?(_(),E(n(Re),{key:0,collapse:!1,class:"logo"})):F("",!0),v(n(De),{class:"navigation-bar"})]),Ce(v(n(Fe),null,null,512),[[Ee,n(m)]])]),$("div",{class:X([{hasTagsView:n(m)},"main-container"])},[v(n(Ae),{class:"app-main"})],2)]))}}),Qo=W(Yo,[["__scopeId","data-v-05c238c9"]]),Le="--v3-tagsview-height",hs=B({__name:"index",setup(u){Uo();const{setWatermark:s,clearWatermark:m}=xt(),{isMobile:f}=ue(),{isLeft:c,isTop:e,isLeftTop:t}=ae(),o=Y(),{showSettings:a,showTagsView:d,showWatermark:r}=ce(o),h=ve(Le);return ye(()=>{d.value?ze(Le,h):ze(Le,"0px")}),ye(()=>{r.value?s("V3 Admin Vite"):m()}),(k,b)=>(_(),V("div",null,[n(c)||n(f)?(_(),E(Oo,{key:0})):n(e)?(_(),E(Qo,{key:1})):n(t)?(_(),E(Xo,{key:2})):F("",!0),n(a)?(_(),E(n(ho),{key:3},{default:w(()=>[v(n(xo))]),_:1})):F("",!0)]))}});export{hs as default};
