import{f as N}from"./index-DWZTYqj4.js";/* empty css                   */import{u as j}from"./usePagination-C2U8EQ-C.js";/* empty css               *//* empty css                  *//* empty css                     *//* empty css                 */import"./el-tooltip-l0sNRNKZ.js";/* empty css                  *//* empty css                */import{T as I}from"./index-Cu2Ew9E-.js";import{n as L,a2 as R,a5 as q,s as G,p as H,a8 as J,a9 as K,ai as A,aj as O,a7 as Q}from"./element-BD9IHJJo.js";import{v as U,r as u,c as m,w as W,x as o,y as C,S,J as b,K as n,M as t,B as p,u as l,H as X,ab as Y,ae as Z,a3 as ee,P as ae}from"./vue-C2mfnOEg.js";import{_ as le}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./vxe-gSuEEdzx.js";/* empty css                     */const te=[{prop:"ww_id",label:"旺旺ID",type:"input"},{prop:"store_name",label:"店铺名字",type:"input"},{prop:"signing_time",label:"签约时间",type:"date"},{prop:"industry",label:"行业",type:"input"},{prop:"operate_name",label:"运营人员",type:"select",options:[{label:"运营1",value:"v1"},{label:"运营2",value:"v2"},{label:"运营3",value:"v3"}]},{prop:"business_name",label:"业务人员",type:"select",options:[{label:"业务1",value:"v1"},{label:"业务2",value:"v2"},{label:"业务3",value:"v3"}]},{prop:"mobile",label:"商家电话",type:"input"},{prop:"is_distribution",label:"分配状态",type:"select",options:[{label:"可用",value:!0},{label:"禁用",value:!1}],roles:["admin"]}],ie=[{id:"ww_id",label:"旺旺ID"},{id:"store_name",label:"店铺名称"},{id:"signing_time",label:"签约时间"},{id:"termination_time",label:"解约时间"},{id:"industry",label:"行业"},{id:"roster",label:"名单内外"},{id:"store_type",label:"新老客户"},{id:"business_name",label:"业务人员"},{id:"mobile",label:"商家电话",hidden:!0},{id:"position",label:"职位"},{id:"customer_name",label:"客户名称"},{id:"other_store",label:"其他店铺"},{id:"address",label:"地址"},{id:"remarks",label:"备注"},{id:"operations_business",label:"运营业务",roles:["admin"]},{id:"account",label:"子账号",roles:["admin"]},{id:"customer_type",label:"商家类型",roles:["admin"]},{id:"patrol_shop",label:"巡店状态",roles:["admin"]},{id:"customer_advantage",label:"商家优势",roles:["admin"]},{id:"competitive_media",label:"竞媒",roles:["admin"]},{id:"supply",label:"供应链",roles:["admin"]},{id:"business_objectives",label:"经营目标",roles:["admin"]},{id:"team_architecture",label:"团队架构",roles:["admin"]},{id:"logistics_prices",label:"物流价格",roles:["admin"]},{id:"outside_the_station",label:"站外种草",roles:["admin"]},{id:"proposal",label:"投放诊断建议",roles:["admin"]},{id:"full_site_consume",label:"是否有全站推消耗",roles:["admin"]},{id:"feedback",label:"未参与原因反馈",roles:["admin"]},{id:"operate_name",label:"运营人员",roles:["admin"],isFixed:"right"}];function oe(){return N({url:"/customer-profile/table",method:"GET"})}const ne={class:"app-container"},re={class:"toolbar-wrapper"},se={class:"table-wrapper"},de={class:"mobile-column"},ce={class:"pager-wrapper"},ue=U({__name:"index",setup(pe){const r=u(!1),{paginationData:a,handleCurrentChange:w,handleSizeChange:x}=j(),_=u("admin"),z=m(()=>te.filter(e=>e.roles?e.roles.includes(_.value):!0));function k(e){a.currentPage=1}function P(){a.currentPage=1}const T=m(()=>ie.filter(e=>e.roles?e.roles.includes(_.value):!0)),f=u([]),D=m(()=>{const e=(a.currentPage-1)*a.pageSize,d=e+a.pageSize;return f.value.slice(e,d)});function v(){r.value=!0,oe().then(e=>{f.value=e.data,a.total=e.data.length}).catch(e=>console.error(e)).finally(()=>{r.value=!1})}W([()=>a.currentPage,()=>a.pageSize],v,{immediate:!0});const s=u({});function E(e){s.value[e]=!s.value[e]}function B(e,d){return d?e:e.slice(0,3)+"*".repeat(e.length-3)}return(e,d)=>{const g=L,h=G,F=H,V=Q,$=J,M=K,y=R;return o(),C("div",ne,[S((o(),b(g,{shadow:"never",class:"search-wrapper"},{default:n(()=>[t(I,{fields:z.value,onSearch:k,onReset:P},null,8,["fields"])]),_:1})),[[y,r.value]]),S((o(),b(g,{shadow:"never"},{default:n(()=>[p("div",re,[t(F,{content:"刷新当前页",placement:"top"},{default:n(()=>[t(h,{type:"primary",icon:l(q),circle:"",onClick:v},null,8,["icon"])]),_:1})]),p("div",se,[t($,{data:D.value,"header-cell-style":{fontSize:"15px"}},{default:n(()=>[(o(!0),C(X,null,Y(T.value,i=>(o(),b(V,{key:i.id,prop:i.id,label:i.label,fixed:i.isFixed,align:"center",width:"160"},Z({_:2},[i.id==="mobile"?{name:"default",fn:n(c=>[p("div",de,[ee(ae(B(c.row.mobile,s.value[c.$index]))+" ",1),t(h,{type:"primary",link:"",icon:s.value[c.$index]?l(A):l(O),onClick:me=>E(c.$index)},null,8,["icon","onClick"])])]),key:"0"}:void 0]),1032,["prop","label","fixed"]))),128))]),_:1},8,["data"])]),p("div",ce,[t(M,{background:"",layout:l(a).layout,"page-sizes":l(a).pageSizes,total:l(a).total,"page-size":l(a).pageSize,"current-page":l(a).currentPage,onSizeChange:l(x),onCurrentChange:l(w)},null,8,["layout","page-sizes","total","page-size","current-page","onSizeChange","onCurrentChange"])])]),_:1})),[[y,r.value]])])}}}),Ee=le(ue,[["__scopeId","data-v-c8c1f1e1"]]);export{Ee as default};
