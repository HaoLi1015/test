import{f as N}from"./index-DwLlSbug.js";/* empty css                   */import{u as R}from"./usePagination-C2U8EQ-C.js";/* empty css               *//* empty css                  *//* empty css                     *//* empty css                 */import"./el-tooltip-l0sNRNKZ.js";/* empty css                  *//* empty css                */import{T as V}from"./index-Dliooj2m.js";import{n as j,a2 as q,af as A,E as _,j as H,s as J,ag as K,a7 as $,l as G,a8 as O,a9 as Q}from"./element-BD9IHJJo.js";import{v as W,r as f,c as v,j as X,x as s,y as Y,S as x,J as c,K as l,M as a,u as n,B as m,a3 as i,P as Z}from"./vue-C2mfnOEg.js";import{_ as ee}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./vxe-gSuEEdzx.js";/* empty css                     */function ae(){return N({url:"/store-list-table",method:"get"})}const te=[{prop:"ww_id",label:"旺旺ID",type:"input"},{prop:"store_name",label:"店铺名称",type:"input"},{prop:"industry",label:"行业",type:"input"},{prop:"type",label:"类型",type:"input"},{prop:"type",label:"类型",type:"select",options:[{label:"类型1",value:"v1"},{label:"类型2",value:"v2"},{label:"类型3",value:"v3"}]},{prop:"status",label:"状态",type:"select",options:[{label:"服务中",value:"true"},{label:"解除协议",value:"false"}]}],oe={class:"app-container"},le={class:"toolbar-wrapper"},ne={class:"table-wrapper"},re={class:"pager-wrapper"},se=W({__name:"index",setup(pe){const p=f(!1),{paginationData:o,handleCurrentChange:S,handleSizeChange:E}=R();function w(e){o.currentPage=1}function z(){o.currentPage=1}const g=f([]),C=f();function h(){p.value=!0,ae().then(e=>{g.value=e.data,o.total=e.data.length}).catch(e=>console.error(e)).finally(()=>{p.value=!1})}const D=v(()=>{const e=(o.currentPage-1)*o.pageSize,t=e+o.pageSize;return g.value.slice(e,t)}),k=e=>e.type==="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"||e.type==="application/vnd.ms-excel"?!0:(_.error("只能上传 Excel 文件!"),!1),B=(e,t)=>{_.success("文件上传成功"),h()},P=(e,t)=>{_.error("文件上传失败"),console.error(e,t)},T=v(()=>({Authorization:`Bearer ${localStorage.getItem("token")}`}));return X(()=>{h()}),(e,t)=>{const y=j,I=H,U=J,F=K,r=$,u=G,L=O,M=Q,b=q;return s(),Y("div",oe,[x((s(),c(y,{shadow:"never",class:"search-wrapper"},{default:l(()=>[a(V,{fields:n(te),onSearch:w,onReset:z},null,8,["fields"])]),_:1})),[[b,p.value]]),x((s(),c(y,{shadow:"never"},{default:l(()=>[m("div",le,[a(F,{"auto-upload":"",ref_key:"uploadRef",ref:C,action:"/api/upload",headers:T.value,"before-upload":k,"on-success":B,"on-error":P,"show-file-list":!1,accept:".xls,.xlsx"},{default:l(()=>[a(U,{type:"primary"},{default:l(()=>[t[0]||(t[0]=i(" 导入 Excel")),a(I,{class:"el-icon--right"},{default:l(()=>[a(n(A))]),_:1})]),_:1})]),_:1},8,["headers"])]),m("div",ne,[a(L,{data:D.value,"header-cell-style":{fontSize:"15px"}},{default:l(()=>[a(r,{prop:"ww_id",label:"旺旺ID",align:"center"}),a(r,{prop:"store_name",label:"店铺名称",align:"center"}),a(r,{prop:"industry",label:"行业",align:"center"}),a(r,{prop:"type",label:"类型",align:"center"},{default:l(d=>[a(u,{type:"primary",effect:"plain"},{default:l(()=>[i(Z(d.row.type),1)]),_:2},1024)]),_:1}),a(r,{prop:"status",label:"状态",align:"center"},{default:l(d=>[d.row.status==="true"?(s(),c(u,{key:0,type:"success",effect:"plain"},{default:l(()=>t[1]||(t[1]=[i(" 服务中 ")])),_:1})):(s(),c(u,{key:1,type:"danger",effect:"plain"},{default:l(()=>t[2]||(t[2]=[i(" 解除协议 ")])),_:1}))]),_:1})]),_:1},8,["data"])]),m("div",re,[a(M,{background:"",layout:n(o).layout,"page-sizes":n(o).pageSizes,total:n(o).total,"page-size":n(o).pageSize,"current-page":n(o).currentPage,onSizeChange:n(E),onCurrentChange:n(S)},null,8,["layout","page-sizes","total","page-size","current-page","onSizeChange","onCurrentChange"])])]),_:1})),[[b,p.value]])])}}}),ze=ee(se,[["__scopeId","data-v-374829fa"]]);export{ze as default};
